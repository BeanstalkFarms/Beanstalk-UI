<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BIP-15</title>
  <link rel="stylesheet" href="bipStyle.css" />
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="bip-15-demand-for-soil-improvement">BIP-15: Demand for Soil Improvement</h1>
<h3 id="summary">Summary:</h3>
<ul>
  <li>Change the way demand for Soil is measured in certain instances to account for the new Soil supply as implemented in BIPs 6 and 9.</li>
  <li>Add an option when Sowing Beans to Sow all remaining Soil available even if the Soil is less than the maximum amount a user was willing to Sow, or whether to only Sow if they can Sow the full amount.</li>
</ul>
<h3 id="problem">Problem:</h3>
<p>The amount of Soil available each Season changes significantly from Season to Season. The current system to measure demand for Soil was designed based on the original Soil supply model, where there was typically a consistent amount of Soil available from Season to Season. Because this is no longer the case, Beanstalk measures demand for Soil in certain instances in a suboptimal fashion.</p>
<p>Currently, if there is less Soil available than the amount of Soil someone was willing to Sow Beans into, their transaction fails. In instances where there is heavy competition for Soil, this can cause excess transaction failures, a suboptimal user experience, and an inefficiency in the Soil market.</p>
<h3 id="proposed-solution">Proposed Solution:</h3>
<p>We propose the following adjustment to the measurement of demand for Soil:</p>
<ul>
  <li>The first time Beans are Sown in all but at most 1 Soil in a Season after one or more Seasons where Beans were not Sown in all Soil, demand for Soil is considered increasing.
  <li>Use \(\Delta E_{t}^{u^{\text{first}}}\), which logs the difference in time between the start of the <i>t</i> and the first Sow in <i>t</i> such that there is at most 1 remaining Soil, instead of \(\Delta E_{t}^{u^{\text{last}}}\) to measure demand for Soil when all or almost all the Soil is Sown in a Season.
  <li>If Beans were Sown in all but at most 1 Soil in the first 5 minutes of the previous Season (<i>i.e.</i>, \(\Delta E_{t-1}^{u^{\text{first}}} \leq 300\)), demand for Soil is considered increasing. If Beans were Sown in all but at most 1 Soil in both <i>t-1</i> and  <i>t-2</i>, but \(300 < \Delta E_{t-1}^{u^{\text{first}}}\), at the beginning of <i>t</i> Beanstalk considers \(\Delta E_{t}^{u}\) to measure demand for Soil.
  <li>Change the definition of \(\Delta E_{t}^{u}\) to: \(\Delta E_{t}^{u} = \Delta E_{t-2}^{u^{\text{first}}} - \Delta E_{t-1}^{u^{\text{first}}}\).
</ul>
<p>Add the minimum Beans to Sow as a parameter for the sow() function.</p>
<h3>To see the full GitHub submission, <a href="https://github.com/BeanstalkFarms/Beanstalk/pull/62" target="break">click here</a>.</h3>
</div>
</body>

</html>
